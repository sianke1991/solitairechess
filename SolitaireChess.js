/* *******************************
       솔리테어 체스
                        sianke1991
******************************* */
let _Rect,_Ellipse,_Background,_Stroke,_Fill,_DrawBorder,_DrawBox,_DrawRadio,_Text,_DrawChessboard,_MouseIn,font=null,defaultTextSize=0,defaultCurvature=20,currentGame=null,bookedInput=null,bookedFrameCount=0,snackbarArea,chessboardArea,squareAreas=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],fileAArea,fileBArea,fileCArea,fileDArea,rank1Area,rank2Area,rank3Area,rank4Area,buttonAlphaArea,buttonBetaArea,buttonGammaArea,buttonDeltaArea,rulesArea,moveHistoryArea,moveHistoryHeaderArea,moveHistoryCenterArea,moveHistoryLeftArea,moveHistoryRightArea,solutionArea,solutionHeaderArea,solutionCenterArea,solutionLeftArea,solutionRightArea,kingCapturableArea,radio0Area,radio0LabelArea,radio1Area,radio1LabelArea,pieceArea,pieceKingArea,pieceQueenArea,pieceRookArea,pieceBishopArea,pieceKnightArea,piecePawnArea,pieceEraseArea,descriptionArea;function preload(){font=loadFont("assets/D2Coding.ttf")}function setup(){createCanvas(1600,900),currentGame=Game.MAIN_SCREEN,defaultTextSize=width/60,textFont(font),textSize(defaultTextSize),textAlign(CENTER,CENTER),(snackbarArea=new RectArea).leftEnd=width/10,snackbarArea.topEnd=height/20,snackbarArea.horizontalSize=width/10*8,snackbarArea.verticalSize=height/12,(chessboardArea=new RectArea).leftEnd=snackbarArea.leftEnd,chessboardArea.topEnd=snackbarArea.bottomEnd+snackbarArea.verticalSize,chessboardArea.horizontalSize=width/10*3,chessboardArea.verticalSize=chessboardArea.horizontalSize;var r=chessboardArea.horizontalSize/4,a=chessboardArea.verticalSize/4;for(let e=0;e<squareAreas.length;e++)squareAreas[e]=new RectArea,squareAreas[e].horizontalSize=r,squareAreas[e].verticalSize=a;squareAreas[Square.A1.ordinal].leftEnd=chessboardArea.leftEnd,squareAreas[Square.A1.ordinal].topEnd=chessboardArea.bottomEnd-a,squareAreas[Square.A2.ordinal].leftEnd=squareAreas[Square.A1.ordinal].leftEnd,squareAreas[Square.A2.ordinal].topEnd=squareAreas[Square.A1.ordinal].topEnd-a,squareAreas[Square.A3.ordinal].leftEnd=squareAreas[Square.A1.ordinal].leftEnd,squareAreas[Square.A3.ordinal].topEnd=squareAreas[Square.A2.ordinal].topEnd-a,squareAreas[Square.A4.ordinal].leftEnd=squareAreas[Square.A1.ordinal].leftEnd,squareAreas[Square.A4.ordinal].topEnd=squareAreas[Square.A3.ordinal].topEnd-a,squareAreas[Square.B1.ordinal].leftEnd=squareAreas[Square.A1.ordinal].rightEnd,squareAreas[Square.B1.ordinal].topEnd=squareAreas[Square.A1.ordinal].topEnd,squareAreas[Square.B2.ordinal].leftEnd=squareAreas[Square.B1.ordinal].leftEnd,squareAreas[Square.B2.ordinal].topEnd=squareAreas[Square.B1.ordinal].topEnd-a,squareAreas[Square.B3.ordinal].leftEnd=squareAreas[Square.B1.ordinal].leftEnd,squareAreas[Square.B3.ordinal].topEnd=squareAreas[Square.B2.ordinal].topEnd-a,squareAreas[Square.B4.ordinal].leftEnd=squareAreas[Square.B1.ordinal].leftEnd,squareAreas[Square.B4.ordinal].topEnd=squareAreas[Square.B3.ordinal].topEnd-a,squareAreas[Square.C1.ordinal].leftEnd=squareAreas[Square.B1.ordinal].rightEnd,squareAreas[Square.C1.ordinal].topEnd=squareAreas[Square.A1.ordinal].topEnd,squareAreas[Square.C2.ordinal].leftEnd=squareAreas[Square.C1.ordinal].leftEnd,squareAreas[Square.C2.ordinal].topEnd=squareAreas[Square.C1.ordinal].topEnd-a,squareAreas[Square.C3.ordinal].leftEnd=squareAreas[Square.C1.ordinal].leftEnd,squareAreas[Square.C3.ordinal].topEnd=squareAreas[Square.C2.ordinal].topEnd-a,squareAreas[Square.C4.ordinal].leftEnd=squareAreas[Square.C1.ordinal].leftEnd,squareAreas[Square.C4.ordinal].topEnd=squareAreas[Square.C3.ordinal].topEnd-a,squareAreas[Square.D1.ordinal].leftEnd=squareAreas[Square.C1.ordinal].rightEnd,squareAreas[Square.D1.ordinal].topEnd=squareAreas[Square.A1.ordinal].topEnd,squareAreas[Square.D2.ordinal].leftEnd=squareAreas[Square.D1.ordinal].leftEnd,squareAreas[Square.D2.ordinal].topEnd=squareAreas[Square.D1.ordinal].topEnd-a,squareAreas[Square.D3.ordinal].leftEnd=squareAreas[Square.D1.ordinal].leftEnd,squareAreas[Square.D3.ordinal].topEnd=squareAreas[Square.D2.ordinal].topEnd-a,squareAreas[Square.D4.ordinal].leftEnd=squareAreas[Square.D1.ordinal].leftEnd,squareAreas[Square.D4.ordinal].topEnd=squareAreas[Square.D3.ordinal].topEnd-a,(buttonAlphaArea=new RectArea).leftEnd=snackbarArea.leftEnd,buttonAlphaArea.topEnd=height-2*snackbarArea.verticalSize,buttonAlphaArea.horizontalSize=chessboardArea.horizontalSize,buttonAlphaArea.verticalSize=snackbarArea.verticalSize,(fileAArea=new RectArea).leftEnd=squareAreas[Square.A1.ordinal].leftEnd,fileAArea.topEnd=squareAreas[Square.A1.ordinal].bottomEnd,fileAArea.horizontalSize=squareAreas[Square.A1.ordinal].horizontalSize,fileAArea.bottomEnd=buttonAlphaArea.topEnd,(fileBArea=new RectArea).leftEnd=squareAreas[Square.B1.ordinal].leftEnd,fileBArea.topEnd=fileAArea.topEnd,fileBArea.horizontalSize=squareAreas[Square.B1.ordinal].horizontalSize,fileBArea.verticalSize=fileAArea.verticalSize,(fileCArea=new RectArea).leftEnd=squareAreas[Square.C1.ordinal].leftEnd,fileCArea.topEnd=fileAArea.topEnd,fileCArea.horizontalSize=squareAreas[Square.C1.ordinal].horizontalSize,fileCArea.verticalSize=fileAArea.verticalSize,(fileDArea=new RectArea).leftEnd=squareAreas[Square.D1.ordinal].leftEnd,fileDArea.topEnd=fileAArea.topEnd,fileDArea.horizontalSize=squareAreas[Square.D1.ordinal].horizontalSize,fileDArea.verticalSize=fileAArea.verticalSize,(rank1Area=new RectArea).leftEnd=squareAreas[Square.A1.ordinal].leftEnd-fileAArea.verticalSize,rank1Area.topEnd=squareAreas[Square.A1.ordinal].topEnd,rank1Area.horizontalSize=fileAArea.verticalSize,rank1Area.verticalSize=squareAreas[Square.A1.ordinal].verticalSize,(rank2Area=new RectArea).leftEnd=rank1Area.leftEnd,rank2Area.topEnd=squareAreas[Square.A2.ordinal].topEnd,rank2Area.horizontalSize=rank1Area.horizontalSize,rank2Area.verticalSize=squareAreas[Square.A2.ordinal].verticalSize,(rank3Area=new RectArea).leftEnd=rank1Area.leftEnd,rank3Area.topEnd=squareAreas[Square.A3.ordinal].topEnd,rank3Area.horizontalSize=rank1Area.horizontalSize,rank3Area.verticalSize=squareAreas[Square.A3.ordinal].verticalSize,(rank4Area=new RectArea).leftEnd=rank1Area.leftEnd,rank4Area.topEnd=squareAreas[Square.A4.ordinal].topEnd,rank4Area.horizontalSize=rank1Area.horizontalSize,rank4Area.verticalSize=squareAreas[Square.A4.ordinal].verticalSize;var e=buttonAlphaArea.leftEnd/3,t=(width-buttonAlphaArea.rightEnd-6*e)/3;(buttonBetaArea=new RectArea).leftEnd=buttonAlphaArea.rightEnd+e,buttonBetaArea.topEnd=buttonAlphaArea.topEnd,buttonBetaArea.horizontalSize=t,buttonBetaArea.verticalSize=buttonAlphaArea.verticalSize,(buttonGammaArea=new RectArea).leftEnd=buttonBetaArea.rightEnd+e,buttonGammaArea.topEnd=buttonAlphaArea.topEnd,buttonGammaArea.horizontalSize=t,buttonGammaArea.verticalSize=buttonAlphaArea.verticalSize,(buttonDeltaArea=new RectArea).leftEnd=buttonGammaArea.rightEnd+e,buttonDeltaArea.topEnd=buttonAlphaArea.topEnd,buttonDeltaArea.horizontalSize=t,buttonDeltaArea.verticalSize=buttonAlphaArea.verticalSize,(rulesArea=new RectArea).leftEnd=chessboardArea.rightEnd+e,rulesArea.topEnd=chessboardArea.topEnd,rulesArea.rightEnd=snackbarArea.rightEnd,rulesArea.verticalSize=snackbarArea.verticalSize,(moveHistoryArea=new RectArea).leftEnd=rulesArea.leftEnd,moveHistoryArea.topEnd=rulesArea.bottomEnd+1.5*rulesArea.verticalSize,moveHistoryArea.horizontalSize=(rulesArea.horizontalSize-e)/2,moveHistoryArea.bottomEnd=chessboardArea.bottomEnd,(moveHistoryHeaderArea=new RectArea).leftEnd=moveHistoryArea.leftEnd,moveHistoryHeaderArea.topEnd=moveHistoryArea.topEnd-rulesArea.verticalSize,moveHistoryHeaderArea.horizontalSize=moveHistoryArea.horizontalSize,moveHistoryHeaderArea.verticalSize=rulesArea.verticalSize,(moveHistoryCenterArea=new RectArea).leftEnd=moveHistoryArea.leftEnd,moveHistoryCenterArea.topEnd=moveHistoryArea.topEnd+.25*rulesArea.verticalSize,moveHistoryCenterArea.horizontalSize=moveHistoryArea.horizontalSize,moveHistoryCenterArea.verticalSize=moveHistoryArea.verticalSize-.5*rulesArea.verticalSize,(moveHistoryLeftArea=new RectArea).leftEnd=moveHistoryArea.leftEnd,moveHistoryLeftArea.topEnd=moveHistoryArea.topEnd+.25*rulesArea.verticalSize,moveHistoryLeftArea.horizontalSize=.5*moveHistoryArea.horizontalSize,moveHistoryLeftArea.verticalSize=moveHistoryArea.verticalSize-.5*rulesArea.verticalSize,(moveHistoryRightArea=new RectArea).leftEnd=moveHistoryArea.leftEnd+.5*moveHistoryArea.horizontalSize,moveHistoryRightArea.topEnd=moveHistoryArea.topEnd+.25*rulesArea.verticalSize,moveHistoryRightArea.horizontalSize=.5*moveHistoryArea.horizontalSize,moveHistoryRightArea.verticalSize=moveHistoryArea.verticalSize-.5*rulesArea.verticalSize,(solutionArea=new RectArea).leftEnd=moveHistoryArea.rightEnd+e,solutionArea.topEnd=moveHistoryArea.topEnd,solutionArea.horizontalSize=moveHistoryArea.horizontalSize,solutionArea.verticalSize=moveHistoryArea.verticalSize,(solutionHeaderArea=new RectArea).leftEnd=solutionArea.leftEnd,solutionHeaderArea.topEnd=solutionArea.topEnd-rulesArea.verticalSize,solutionHeaderArea.horizontalSize=solutionArea.horizontalSize,solutionHeaderArea.verticalSize=rulesArea.verticalSize,(solutionCenterArea=new RectArea).leftEnd=solutionArea.leftEnd,solutionCenterArea.topEnd=solutionArea.topEnd+.25*rulesArea.verticalSize,solutionCenterArea.horizontalSize=solutionArea.horizontalSize,solutionCenterArea.verticalSize=solutionArea.verticalSize-.5*rulesArea.verticalSize,(solutionLeftArea=new RectArea).leftEnd=solutionArea.leftEnd,solutionLeftArea.topEnd=solutionArea.topEnd+.25*rulesArea.verticalSize,solutionLeftArea.horizontalSize=.5*solutionArea.horizontalSize,solutionLeftArea.verticalSize=solutionArea.verticalSize-.5*rulesArea.verticalSize,(solutionRightArea=new RectArea).leftEnd=solutionArea.leftEnd+.5*solutionArea.horizontalSize,solutionRightArea.topEnd=solutionArea.topEnd+.25*rulesArea.verticalSize,solutionRightArea.horizontalSize=.5*solutionArea.horizontalSize,solutionRightArea.verticalSize=solutionArea.verticalSize-.5*rulesArea.verticalSize,(kingCapturableArea=new RectArea).leftEnd=rulesArea.leftEnd,kingCapturableArea.topEnd=rulesArea.topEnd,kingCapturableArea.horizontalSize=rulesArea.horizontalSize,kingCapturableArea.verticalSize=(chessboardArea.verticalSize-e)/2,(radio0Area=new CircleArea).centerX=kingCapturableArea.leftEnd+kingCapturableArea.verticalSize/4,radio0Area.centerY=kingCapturableArea.topEnd+kingCapturableArea.verticalSize/4,radio0Area.horizontalSize=kingCapturableArea.verticalSize/8,(radio0LabelArea=new RectArea).leftEnd=kingCapturableArea.leftEnd+kingCapturableArea.verticalSize/2,radio0LabelArea.topEnd=kingCapturableArea.topEnd,radio0LabelArea.horizontalSize=kingCapturableArea.horizontalSize-kingCapturableArea.verticalSize/2,radio0LabelArea.verticalSize=kingCapturableArea.verticalSize/2,(radio1Area=new CircleArea).centerX=radio0Area.centerX,radio1Area.centerY=radio0Area.centerY+kingCapturableArea.verticalSize/2,radio1Area.horizontalSize=radio0Area.horizontalSize,(radio1LabelArea=new RectArea).leftEnd=kingCapturableArea.leftEnd+kingCapturableArea.verticalSize/2,radio1LabelArea.topEnd=kingCapturableArea.topEnd+kingCapturableArea.verticalSize/2,radio1LabelArea.horizontalSize=kingCapturableArea.horizontalSize-kingCapturableArea.verticalSize/2,radio1LabelArea.verticalSize=kingCapturableArea.verticalSize/2,(pieceArea=new RectArea).leftEnd=kingCapturableArea.leftEnd,pieceArea.topEnd=kingCapturableArea.bottomEnd+e,pieceArea.horizontalSize=kingCapturableArea.horizontalSize,pieceArea.verticalSize=kingCapturableArea.verticalSize,(pieceKingArea=new RectArea).leftEnd=pieceArea.leftEnd+pieceArea.verticalSize/9,pieceKingArea.topEnd=pieceArea.topEnd+pieceArea.verticalSize/9,pieceKingArea.horizontalSize=pieceArea.verticalSize/3,pieceKingArea.verticalSize=pieceKingArea.horizontalSize,(pieceQueenArea=new RectArea).leftEnd=pieceKingArea.rightEnd+pieceArea.verticalSize/9,pieceQueenArea.topEnd=pieceKingArea.topEnd,pieceQueenArea.horizontalSize=pieceKingArea.horizontalSize,pieceQueenArea.verticalSize=pieceKingArea.verticalSize,(pieceRookArea=new RectArea).leftEnd=pieceQueenArea.rightEnd+pieceArea.verticalSize/9,pieceRookArea.topEnd=pieceKingArea.topEnd,pieceRookArea.horizontalSize=pieceKingArea.horizontalSize,pieceRookArea.verticalSize=pieceKingArea.verticalSize,(pieceBishopArea=new RectArea).leftEnd=pieceKingArea.leftEnd,pieceBishopArea.topEnd=pieceKingArea.bottomEnd+pieceArea.verticalSize/9,pieceBishopArea.horizontalSize=pieceKingArea.horizontalSize,pieceBishopArea.verticalSize=pieceKingArea.verticalSize,(pieceKnightArea=new RectArea).leftEnd=pieceBishopArea.rightEnd+pieceArea.verticalSize/9,pieceKnightArea.topEnd=pieceBishopArea.topEnd,pieceKnightArea.horizontalSize=pieceKingArea.horizontalSize,pieceKnightArea.verticalSize=pieceKingArea.verticalSize,(piecePawnArea=new RectArea).leftEnd=pieceKnightArea.rightEnd+pieceArea.verticalSize/9,piecePawnArea.topEnd=pieceBishopArea.topEnd,piecePawnArea.horizontalSize=pieceKingArea.horizontalSize,piecePawnArea.verticalSize=pieceKingArea.verticalSize,(pieceEraseArea=new RectArea).leftEnd=piecePawnArea.rightEnd+pieceArea.verticalSize/9,pieceEraseArea.topEnd=pieceBishopArea.topEnd,pieceEraseArea.horizontalSize=1.5*pieceKingArea.horizontalSize,pieceEraseArea.verticalSize=pieceKingArea.verticalSize,(descriptionArea=new RectArea).leftEnd=rulesArea.leftEnd,descriptionArea.topEnd=rulesArea.bottomEnd+e,descriptionArea.horizontalSize=rulesArea.horizontalSize,descriptionArea.bottomEnd=chessboardArea.bottomEnd,_Rect=(e,r)=>{rect(e.leftEnd,e.topEnd,e.horizontalSize,e.verticalSize,r)},_Ellipse=e=>{ellipse(e.centerX,e.centerY,e.horizontalSize,e.verticalSize)},_Background=e=>{background(e.red,e.green,e.blue,e.alpha)},_Stroke=e=>{stroke(e.red,e.green,e.blue,e.alpha)},_Fill=e=>{fill(e.red,e.green,e.blue,e.alpha)},_DrawBorder=e=>{switch(_Stroke(Colour.STROKE_WHITE),strokeWeight(1),noFill(),e.type.ordinal){case AreaType.RECT.ordinal:_Rect(e);break;case AreaType.CIRCLE.ordinal:_Ellipse(e)}},_DrawBox=(e,r,a)=>{AreaType.RECT.equals(e.type)&&(noStroke(),_Fill(r),_Rect(e,a))},_DrawRadio=(e,r)=>{AreaType.CIRCLE.equals(e.type)&&(_Stroke(Colour.STROKE_WHITE),strokeWeight(2),noFill(),_Ellipse(e),r)&&(noStroke(),_Fill(Colour.RADIO_RED),ellipse(e.centerX,e.centerY,e.horizontalSize/2,e.verticalSize/2))},_Text=(e,r)=>{noStroke(),text(e,r.leftEnd,r.topEnd,r.horizontalSize,r.verticalSize)},_DrawChessboard=()=>{_DrawBox(squareAreas[Square.A1.ordinal],Colour.CHESSBOARD_DARK),_DrawBox(squareAreas[Square.A2.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.A3.ordinal],Colour.CHESSBOARD_DARK),_DrawBox(squareAreas[Square.A4.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.B1.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.B2.ordinal],Colour.CHESSBOARD_DARK),_DrawBox(squareAreas[Square.B3.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.B4.ordinal],Colour.CHESSBOARD_DARK),_DrawBox(squareAreas[Square.C1.ordinal],Colour.CHESSBOARD_DARK),_DrawBox(squareAreas[Square.C2.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.C3.ordinal],Colour.CHESSBOARD_DARK),_DrawBox(squareAreas[Square.C4.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.D1.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.D2.ordinal],Colour.CHESSBOARD_DARK),_DrawBox(squareAreas[Square.D3.ordinal],Colour.CHESSBOARD_LIGHT),_DrawBox(squareAreas[Square.D4.ordinal],Colour.CHESSBOARD_DARK),_Fill(Colour.TEXT_WHITE),textSize(1.6*defaultTextSize),_Text("a",fileAArea),_Text("b",fileBArea),_Text("c",fileCArea),_Text("d",fileDArea),_Text("1",rank1Area),_Text("2",rank2Area),_Text("3",rank3Area),_Text("4",rank4Area),textSize(defaultTextSize)},_MouseIn=e=>e.containsPoint(mouseX,mouseY)}function draw(){_Background(Colour.BACKGROUND),(currentGame=Game.currentGame()).demoplay();var e,r=currentGame.snackbarContent();switch(r[0]){case"G":_DrawBox(snackbarArea,Colour.SNACKBAR_GREEN,defaultCurvature);break;case"R":_DrawBox(snackbarArea,Colour.SNACKBAR_RED,defaultCurvature);break;case"Y":_DrawBox(snackbarArea,Colour.SNACKBAR_YELLOW,defaultCurvature);break;case"T":_DrawBox(snackbarArea,Colour.TRANSPARENT,defaultCurvature)}_Fill(Colour.TEXT_WHITE),_Text(r.substring(1),snackbarArea),_DrawChessboard(),textSize(4*defaultTextSize);for(e of Square.values()){var a=currentGame.pieceAt(e);switch(a[0]){case"W":_Fill(Colour.CHESS_PIECE_WHITE);break;case"G":_Fill(Colour.CHESS_PIECE_GREEN);break;case"R":_Fill(Colour.CHESS_PIECE_RED)}_Text(a.substring(1),squareAreas[e.ordinal])}textSize(defaultTextSize);r=currentGame.buttonAlphaMessageObject().message,""!==r&&(_DrawBorder(buttonAlphaArea),_Fill(Colour.TEXT_WHITE),_Text(r,buttonAlphaArea)),r=currentGame.buttonBetaMessageObject().message,""!==r&&(_DrawBorder(buttonBetaArea),_Fill(Colour.TEXT_WHITE),(r===ButtonMessage.OBJECT02.message||r===ButtonMessage.OBJECT03.message&&currentGame==Game.PLAY_EDITED)&&_Fill(Colour.TEXT_RED),_Text(r,buttonBetaArea)),r=currentGame.buttonGammaMessageObject().message,""!==r&&(_DrawBorder(buttonGammaArea),_Fill(Colour.TEXT_WHITE),_Text(r,buttonGammaArea)),r=currentGame.buttonDeltaMessageObject().message;switch(""!==r&&(_DrawBorder(buttonDeltaArea),_Fill(Colour.TEXT_WHITE),_Text(r,buttonDeltaArea)),currentGame.ordinal){case Game.PLAY_GENERATED.ordinal:case Game.PLAY_EDITED.ordinal:_DrawBox(rulesArea,Colour.DIV_BOX_BLUE,defaultCurvature),_DrawBox(moveHistoryArea,Colour.DIV_BOX_GREEN,defaultCurvature),_DrawBox(solutionArea,Colour.DIV_BOX_RED,defaultCurvature),_Fill(Colour.TEXT_WHITE),_Text(currentGame.rulesMessage(),rulesArea),_Text("움직인 수",moveHistoryHeaderArea),_Text("정답",solutionHeaderArea);var t=currentGame.moveHistoryMessageLeft(),i=currentGame.moveHistoryMessageRight(),o=currentGame.solutionMessageLeft(),n=currentGame.solutionMessageRight();textAlign(CENTER,TOP),textSize(60*defaultTextSize/61),""===i?_Text(t,moveHistoryCenterArea):(_Text(t,moveHistoryLeftArea),_Text(i,moveHistoryRightArea)),""===n?_Text(o,solutionCenterArea):(_Text(o,solutionLeftArea),_Text(n,solutionRightArea)),textAlign(CENTER,CENTER),textSize(defaultTextSize);break;case Game.EDIT_PUZZLE.ordinal:_DrawBorder(kingCapturableArea),_DrawRadio(radio0Area,currentGame.isKingCannotBeCapturedSelected()),_DrawRadio(radio1Area,currentGame.isKingCanBeCapturedSelected()),_DrawBorder(pieceArea),_DrawBorder(pieceKingArea),_DrawBorder(pieceQueenArea),_DrawBorder(pieceRookArea),_DrawBorder(pieceBishopArea),_DrawBorder(pieceKnightArea),_DrawBorder(piecePawnArea),_DrawBorder(pieceEraseArea),_Fill(Colour.TEXT_WHITE),textAlign(LEFT,CENTER),_Text(KingCapturable.KING_CANNOT_BE_CAPTURED.message,radio0LabelArea),_Text(KingCapturable.KING_CAN_BE_CAPTURED.message,radio1LabelArea),textAlign(CENTER,CENTER),textSize(3*defaultTextSize),currentGame.isKingSelected()?_Fill(Colour.CHESS_PIECE_GREEN):_Fill(Colour.CHESS_PIECE_WHITE),_Text(Piece.KING.message,pieceKingArea),currentGame.isQueenSelected()?_Fill(Colour.CHESS_PIECE_GREEN):_Fill(Colour.CHESS_PIECE_WHITE),_Text(Piece.QUEEN.message,pieceQueenArea),currentGame.isRookSelected()?_Fill(Colour.CHESS_PIECE_GREEN):_Fill(Colour.CHESS_PIECE_WHITE),_Text(Piece.ROOK.message,pieceRookArea),currentGame.isBishopSelected()?_Fill(Colour.CHESS_PIECE_GREEN):_Fill(Colour.CHESS_PIECE_WHITE),_Text(Piece.BISHOP.message,pieceBishopArea),currentGame.isKnightSelected()?_Fill(Colour.CHESS_PIECE_GREEN):_Fill(Colour.CHESS_PIECE_WHITE),_Text(Piece.KNIGHT.message,pieceKnightArea),currentGame.isPawnSelected()?_Fill(Colour.CHESS_PIECE_GREEN):_Fill(Colour.CHESS_PIECE_WHITE),_Text(Piece.PAWN.message,piecePawnArea),textSize(defaultTextSize),currentGame.isEraseSelected()?_Fill(Colour.CHESS_PIECE_GREEN):_Fill(Colour.CHESS_PIECE_WHITE),_Text("지우기",pieceEraseArea);break;case Game.MAIN_SCREEN.ordinal:textAlign(RIGHT,CENTER),_Fill(Colour.TEXT_GREY),_Text("sianke1991",snackbarArea),textAlign(LEFT,TOP),_Fill(Colour.TEXT_WHITE),_Text(Game.DESCRIPTION_MESSAGE,descriptionArea),textAlign(CENTER,CENTER),textSize(3*defaultTextSize),_Text("솔리테어 체스",rulesArea),textSize(defaultTextSize)}null!==bookedInput&&frameCount>bookedFrameCount+1&&(currentGame.input(bookedInput),bookedInput=null)}function mousePressed(){switch(mouseButton){case LEFT:_MouseIn(buttonAlphaArea)?Game.EDIT_PUZZLE.equals(currentGame)?(currentGame.snackbarContentShort(Snackbar.MESSAGE04,Colour.SNACKBAR_YELLOW),bookedInput=Input.BUTTON_ALPHA,bookedFrameCount=frameCount):currentGame.input(Input.BUTTON_ALPHA):_MouseIn(buttonBetaArea)?currentGame.buttonBetaMessageObject().message===ButtonMessage.OBJECT01.message?(currentGame.snackbarContentShort(Snackbar.MESSAGE05,Colour.SNACKBAR_YELLOW),bookedInput=Input.BUTTON_BETA,bookedFrameCount=frameCount):currentGame.input(Input.BUTTON_BETA):_MouseIn(buttonGammaArea)?currentGame.input(Input.BUTTON_GAMMA):_MouseIn(buttonDeltaArea)&&currentGame.input(Input.BUTTON_DELTA);for(let e=0;e<squareAreas.length;e++)if(_MouseIn(squareAreas[e])){var r="SQUARE_"+Square.values()[e].name;currentGame.input(Input.valueOf(r));break}_MouseIn(radio0Area)||_MouseIn(radio0LabelArea)?currentGame.input(Input.KING_CANNOT_BE_CAPTURED):(_MouseIn(radio1Area)||_MouseIn(radio1LabelArea))&&currentGame.input(Input.KING_CAN_BE_CAPTURED),_MouseIn(pieceKingArea)?currentGame.input(Input.PIECE_KING):_MouseIn(pieceQueenArea)?currentGame.input(Input.PIECE_QUEEN):_MouseIn(pieceRookArea)?currentGame.input(Input.PIECE_ROOK):_MouseIn(pieceBishopArea)?currentGame.input(Input.PIECE_BISHOP):_MouseIn(pieceKnightArea)?currentGame.input(Input.PIECE_KNIGHT):_MouseIn(piecePawnArea)?currentGame.input(Input.PIECE_PAWN):_MouseIn(pieceEraseArea)&&currentGame.input(Input.PIECE_ERASE);break;case RIGHT:}return false;}function keyPressed(){switch(key){case"K":case"k":currentGame.input(Input.PIECE_KING);break;case"Q":case"q":currentGame.input(Input.PIECE_QUEEN);break;case"R":case"r":currentGame.input(Input.PIECE_ROOK);break;case"B":case"b":currentGame.input(Input.PIECE_BISHOP);break;case"N":case"n":currentGame.input(Input.PIECE_KNIGHT);break;case"P":case"p":currentGame.input(Input.PIECE_PAWN);break;case"E":case"e":currentGame.input(Input.PIECE_ERASE);break;case"X":case"x":currentGame.input(Input.PIECE_REVERSED_PAWN)}}
